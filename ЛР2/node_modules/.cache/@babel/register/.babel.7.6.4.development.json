{
  "{\"sourceRoot\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\\\\src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\",\"filename\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\\\\src\\\\app.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\",\"plugins\":[],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\User\\Desktop\\nataLab_2\\src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\User\\Desktop\\nataLab_2",
      "filename": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\app.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\User\\Desktop\\nataLab_2",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\app.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\User\\Desktop\\nataLab_2\\src",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "const express = require(\"express\");\n\nconst api = require(\"./api\");\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({\n  extended: true\n}));\napp.use(\"/api\", api.router);\napp.listen(5000);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImFwaSIsImFwcCIsInVzZSIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJyb3V0ZXIiLCJsaXN0ZW4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsR0FBRyxHQUFHRCxPQUFPLENBQUMsT0FBRCxDQUFuQjs7QUFFQSxNQUFNRSxHQUFHLEdBQUdILE9BQU8sRUFBbkI7QUFFQUcsR0FBRyxDQUFDQyxHQUFKLENBQVFKLE9BQU8sQ0FBQ0ssSUFBUixFQUFSO0FBQ0FGLEdBQUcsQ0FBQ0MsR0FBSixDQUFRSixPQUFPLENBQUNNLFVBQVIsQ0FBbUI7QUFBQ0MsRUFBQUEsUUFBUSxFQUFFO0FBQVgsQ0FBbkIsQ0FBUjtBQUNBSixHQUFHLENBQUNDLEdBQUosQ0FBUSxNQUFSLEVBQWdCRixHQUFHLENBQUNNLE1BQXBCO0FBQ0FMLEdBQUcsQ0FBQ00sTUFBSixDQUFXLElBQVgiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxVc2VyXFxEZXNrdG9wXFxuYXRhTGFiXzJcXHNyYyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuY29uc3QgYXBpID0gcmVxdWlyZShcIi4vYXBpXCIpO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHtleHRlbmRlZDogdHJ1ZX0pKTtcclxuYXBwLnVzZShcIi9hcGlcIiwgYXBpLnJvdXRlcik7XHJcbmFwcC5saXN0ZW4oNTAwMCk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "express",
        "require",
        "api",
        "app",
        "use",
        "json",
        "urlencoded",
        "extended",
        "router",
        "listen"
      ],
      "mappings": "AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,OAAD,CAAnB;;AAEA,MAAME,GAAG,GAAGH,OAAO,EAAnB;AAEAG,GAAG,CAACC,GAAJ,CAAQJ,OAAO,CAACK,IAAR,EAAR;AACAF,GAAG,CAACC,GAAJ,CAAQJ,OAAO,CAACM,UAAR,CAAmB;AAACC,EAAAA,QAAQ,EAAE;AAAX,CAAnB,CAAR;AACAJ,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBF,GAAG,CAACM,MAApB;AACAL,GAAG,CAACM,MAAJ,CAAW,IAAX",
      "sourceRoot": "C:\\Users\\User\\Desktop\\nataLab_2\\src",
      "sourcesContent": [
        "const express = require(\"express\");\r\nconst api = require(\"./api\");\r\n\r\nconst app = express();\r\n\r\napp.use(express.json());\r\napp.use(express.urlencoded({extended: true}));\r\napp.use(\"/api\", api.router);\r\napp.listen(5000);"
      ]
    },
    "sourceType": "module",
    "mtime": 1572884380797
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\\\\src\\\\api\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\",\"filename\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\\\\src\\\\api\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\",\"plugins\":[],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\User\\Desktop\\nataLab_2",
      "filename": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\User\\Desktop\\nataLab_2",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api\\index.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "const express = require(\"express\");\n\nconst accounting = require(\"./accounting\");\n\nconst router = new express.Router();\nrouter.use(\"/accounting\", accounting.apiRouter);\nmodule.exports = {\n  router\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiYWNjb3VudGluZyIsInJvdXRlciIsIlJvdXRlciIsInVzZSIsImFwaVJvdXRlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHRCxPQUFPLENBQUMsY0FBRCxDQUExQjs7QUFDQSxNQUFNRSxNQUFNLEdBQUcsSUFBSUgsT0FBTyxDQUFDSSxNQUFaLEVBQWY7QUFHQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsYUFBWCxFQUEwQkgsVUFBVSxDQUFDSSxTQUFyQztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDaEJMLEVBQUFBO0FBRGdCLENBQWpCIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVXNlclxcRGVza3RvcFxcbmF0YUxhYl8yXFxzcmNcXGFwaSIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuY29uc3QgYWNjb3VudGluZyA9IHJlcXVpcmUoXCIuL2FjY291bnRpbmdcIik7XHJcbmNvbnN0IHJvdXRlciA9IG5ldyBleHByZXNzLlJvdXRlcigpO1xyXG5cclxuXHJcbnJvdXRlci51c2UoXCIvYWNjb3VudGluZ1wiLCBhY2NvdW50aW5nLmFwaVJvdXRlcik7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRyb3V0ZXJcclxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "accounting",
        "router",
        "Router",
        "use",
        "apiRouter",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,cAAD,CAA1B;;AACA,MAAME,MAAM,GAAG,IAAIH,OAAO,CAACI,MAAZ,EAAf;AAGAD,MAAM,CAACE,GAAP,CAAW,aAAX,EAA0BH,UAAU,CAACI,SAArC;AAEAC,MAAM,CAACC,OAAP,GAAiB;AAChBL,EAAAA;AADgB,CAAjB",
      "sourceRoot": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api",
      "sourcesContent": [
        "const express = require(\"express\");\r\nconst accounting = require(\"./accounting\");\r\nconst router = new express.Router();\r\n\r\n\r\nrouter.use(\"/accounting\", accounting.apiRouter);\r\n\r\nmodule.exports = {\r\n\trouter\r\n}"
      ]
    },
    "sourceType": "module",
    "mtime": 1572883373275
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\\\\src\\\\api\\\\accounting\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\",\"filename\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\\\\src\\\\api\\\\accounting\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\",\"plugins\":[],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api\\accounting",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\User\\Desktop\\nataLab_2",
      "filename": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api\\accounting\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\User\\Desktop\\nataLab_2",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api\\accounting\\index.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api\\accounting\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api\\accounting",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "const express = require(\"express\");\n\nconst controller = require(\"./controller.js\");\n\nconst accountingApiRouter = new express.Router();\naccountingApiRouter.get(\"/\", controller.accountingController.get);\naccountingApiRouter.post(\"/add\", controller.accountingController.post);\nmodule.exports = {\n  apiRouter: accountingApiRouter\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY29udHJvbGxlciIsImFjY291bnRpbmdBcGlSb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJhY2NvdW50aW5nQ29udHJvbGxlciIsInBvc3QiLCJtb2R1bGUiLCJleHBvcnRzIiwiYXBpUm91dGVyIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLGlCQUFELENBQTFCOztBQUNBLE1BQU1FLG1CQUFtQixHQUFHLElBQUlILE9BQU8sQ0FBQ0ksTUFBWixFQUE1QjtBQUVBRCxtQkFBbUIsQ0FBQ0UsR0FBcEIsQ0FBd0IsR0FBeEIsRUFBNkJILFVBQVUsQ0FBQ0ksb0JBQVgsQ0FBZ0NELEdBQTdEO0FBQ0FGLG1CQUFtQixDQUFDSSxJQUFwQixDQUF5QixNQUF6QixFQUFpQ0wsVUFBVSxDQUFDSSxvQkFBWCxDQUFnQ0MsSUFBakU7QUFJQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2hCQyxFQUFBQSxTQUFTLEVBQUNQO0FBRE0sQ0FBakIiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxVc2VyXFxEZXNrdG9wXFxuYXRhTGFiXzJcXHNyY1xcYXBpXFxhY2NvdW50aW5nIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5jb25zdCBjb250cm9sbGVyID0gcmVxdWlyZShcIi4vY29udHJvbGxlci5qc1wiKTtcclxuY29uc3QgYWNjb3VudGluZ0FwaVJvdXRlciA9IG5ldyBleHByZXNzLlJvdXRlcigpO1xyXG5cclxuYWNjb3VudGluZ0FwaVJvdXRlci5nZXQoXCIvXCIsIGNvbnRyb2xsZXIuYWNjb3VudGluZ0NvbnRyb2xsZXIuZ2V0KTtcclxuYWNjb3VudGluZ0FwaVJvdXRlci5wb3N0KFwiL2FkZFwiLCBjb250cm9sbGVyLmFjY291bnRpbmdDb250cm9sbGVyLnBvc3QpO1xyXG5cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRhcGlSb3V0ZXI6YWNjb3VudGluZ0FwaVJvdXRlclxyXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "controller",
        "accountingApiRouter",
        "Router",
        "get",
        "accountingController",
        "post",
        "module",
        "exports",
        "apiRouter"
      ],
      "mappings": "AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,iBAAD,CAA1B;;AACA,MAAME,mBAAmB,GAAG,IAAIH,OAAO,CAACI,MAAZ,EAA5B;AAEAD,mBAAmB,CAACE,GAApB,CAAwB,GAAxB,EAA6BH,UAAU,CAACI,oBAAX,CAAgCD,GAA7D;AACAF,mBAAmB,CAACI,IAApB,CAAyB,MAAzB,EAAiCL,UAAU,CAACI,oBAAX,CAAgCC,IAAjE;AAIAC,MAAM,CAACC,OAAP,GAAiB;AAChBC,EAAAA,SAAS,EAACP;AADM,CAAjB",
      "sourceRoot": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api\\accounting",
      "sourcesContent": [
        "const express = require(\"express\");\r\nconst controller = require(\"./controller.js\");\r\nconst accountingApiRouter = new express.Router();\r\n\r\naccountingApiRouter.get(\"/\", controller.accountingController.get);\r\naccountingApiRouter.post(\"/add\", controller.accountingController.post);\r\n\r\n\r\n\r\nmodule.exports = {\r\n\tapiRouter:accountingApiRouter\r\n}"
      ]
    },
    "sourceType": "module",
    "mtime": 1572885359938
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\\\\src\\\\api\\\\accounting\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\",\"filename\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\\\\src\\\\api\\\\accounting\\\\controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\User\\\\Desktop\\\\nataLab_2\",\"plugins\":[],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api\\accounting",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\User\\Desktop\\nataLab_2",
      "filename": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api\\accounting\\controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\User\\Desktop\\nataLab_2",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api\\accounting\\controller.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api\\accounting\\controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api\\accounting",
        "sourceFileName": "controller.js"
      }
    },
    "ast": null,
    "code": "const mongodb = require(\"mongodb\");\n\nconst MongoClient = mongodb.MongoClient;\nconst url = \"mongodb://127.0.0.1:27017\";\nconst dbName = \"accounting_db\";\nconst accountingController = {\n  get: function (req, res) {\n    let X = req.query.X;\n    let Y = req.query.Y;\n    const client = new MongoClient(url);\n    client.connect(function (error, result) {\n      if (error) res.send(error);\n      const event = result.db(dbName).collection(\"accounting\");\n\n      if (X && Y) {\n        event.find({\n          \"position\": X\n        }).toArray(function (error, result) {\n          let arr = result.filter(elem => {\n            return !Y || elem.childrenCount <= parseInt(Y);\n          });\n          if (error) res.send(error);else res.send(arr);\n          client.close();\n        });\n      }\n    });\n  },\n  post: (req, res) => {\n    let newItem = req.body;\n    const mongoClient = new MongoClient(url);\n    mongoClient.connect(function (err, result) {\n      if (err) res.status(500).send(err);\n      const accounting = result.db(dbName).collection(\"accounting\");\n      accounting.insertOne(newItem, function (err, result) {\n        if (err) res.status(500).send(err);else res.send(newItem);\n        mongoClient.close();\n      });\n    });\n  }\n};\nmodule.exports = {\n  accountingController\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsibW9uZ29kYiIsInJlcXVpcmUiLCJNb25nb0NsaWVudCIsInVybCIsImRiTmFtZSIsImFjY291bnRpbmdDb250cm9sbGVyIiwiZ2V0IiwicmVxIiwicmVzIiwiWCIsInF1ZXJ5IiwiWSIsImNsaWVudCIsImNvbm5lY3QiLCJlcnJvciIsInJlc3VsdCIsInNlbmQiLCJldmVudCIsImRiIiwiY29sbGVjdGlvbiIsImZpbmQiLCJ0b0FycmF5IiwiYXJyIiwiZmlsdGVyIiwiZWxlbSIsImNoaWxkcmVuQ291bnQiLCJwYXJzZUludCIsImNsb3NlIiwicG9zdCIsIm5ld0l0ZW0iLCJib2R5IiwibW9uZ29DbGllbnQiLCJlcnIiLCJzdGF0dXMiLCJhY2NvdW50aW5nIiwiaW5zZXJ0T25lIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxXQUFXLEdBQUdGLE9BQU8sQ0FBQ0UsV0FBNUI7QUFDQSxNQUFNQyxHQUFHLEdBQUcsMkJBQVo7QUFDQSxNQUFNQyxNQUFNLEdBQUcsZUFBZjtBQUVBLE1BQU1DLG9CQUFvQixHQUFHO0FBQ3pCQyxFQUFBQSxHQUFHLEVBQUUsVUFBU0MsR0FBVCxFQUFjQyxHQUFkLEVBQW1CO0FBQ3BCLFFBQUlDLENBQUMsR0FBR0YsR0FBRyxDQUFDRyxLQUFKLENBQVVELENBQWxCO0FBQ0EsUUFBSUUsQ0FBQyxHQUFHSixHQUFHLENBQUNHLEtBQUosQ0FBVUMsQ0FBbEI7QUFDQSxVQUFNQyxNQUFNLEdBQUcsSUFBSVYsV0FBSixDQUFnQkMsR0FBaEIsQ0FBZjtBQUNBUyxJQUFBQSxNQUFNLENBQUNDLE9BQVAsQ0FBZSxVQUFTQyxLQUFULEVBQWdCQyxNQUFoQixFQUF3QjtBQUNuQyxVQUFJRCxLQUFKLEVBQVdOLEdBQUcsQ0FBQ1EsSUFBSixDQUFTRixLQUFUO0FBQ1gsWUFBTUcsS0FBSyxHQUFHRixNQUFNLENBQUNHLEVBQVAsQ0FBVWQsTUFBVixFQUFrQmUsVUFBbEIsQ0FBNkIsWUFBN0IsQ0FBZDs7QUFDQSxVQUFJVixDQUFDLElBQUlFLENBQVQsRUFBWTtBQUNaTSxRQUFBQSxLQUFLLENBQUNHLElBQU4sQ0FBVztBQUFDLHNCQUFZWDtBQUFiLFNBQVgsRUFBNEJZLE9BQTVCLENBQW9DLFVBQVNQLEtBQVQsRUFBZ0JDLE1BQWhCLEVBQXdCO0FBQ3hELGNBQUlPLEdBQUcsR0FBR1AsTUFBTSxDQUFDUSxNQUFQLENBQWVDLElBQUQsSUFBVTtBQUM5QixtQkFBUSxDQUFDYixDQUFELElBQU1hLElBQUksQ0FBQ0MsYUFBTCxJQUFzQkMsUUFBUSxDQUFDZixDQUFELENBQTVDO0FBQ0gsV0FGUyxDQUFWO0FBR0EsY0FBSUcsS0FBSixFQUFXTixHQUFHLENBQUNRLElBQUosQ0FBU0YsS0FBVCxFQUFYLEtBQ0tOLEdBQUcsQ0FBQ1EsSUFBSixDQUFTTSxHQUFUO0FBQ0xWLFVBQUFBLE1BQU0sQ0FBQ2UsS0FBUDtBQUNLLFNBUFQ7QUFRSztBQUNDLEtBYlY7QUFnQkgsR0FyQndCO0FBc0J6QkMsRUFBQUEsSUFBSSxFQUFFLENBQUNyQixHQUFELEVBQU1DLEdBQU4sS0FBYztBQUNoQixRQUFJcUIsT0FBTyxHQUFHdEIsR0FBRyxDQUFDdUIsSUFBbEI7QUFDQSxVQUFNQyxXQUFXLEdBQUcsSUFBSTdCLFdBQUosQ0FBZ0JDLEdBQWhCLENBQXBCO0FBQ0E0QixJQUFBQSxXQUFXLENBQUNsQixPQUFaLENBQW9CLFVBQVVtQixHQUFWLEVBQWVqQixNQUFmLEVBQXVCO0FBQ3ZDLFVBQUlpQixHQUFKLEVBQVN4QixHQUFHLENBQUN5QixNQUFKLENBQVcsR0FBWCxFQUFnQmpCLElBQWhCLENBQXFCZ0IsR0FBckI7QUFFVCxZQUFNRSxVQUFVLEdBQUduQixNQUFNLENBQUNHLEVBQVAsQ0FBVWQsTUFBVixFQUFrQmUsVUFBbEIsQ0FBNkIsWUFBN0IsQ0FBbkI7QUFDQWUsTUFBQUEsVUFBVSxDQUFDQyxTQUFYLENBQXFCTixPQUFyQixFQUE4QixVQUFVRyxHQUFWLEVBQWVqQixNQUFmLEVBQXVCO0FBQ2pELFlBQUlpQixHQUFKLEVBQ0l4QixHQUFHLENBQUN5QixNQUFKLENBQVcsR0FBWCxFQUFnQmpCLElBQWhCLENBQXFCZ0IsR0FBckIsRUFESixLQUdJeEIsR0FBRyxDQUFDUSxJQUFKLENBQVNhLE9BQVQ7QUFFSkUsUUFBQUEsV0FBVyxDQUFDSixLQUFaO0FBQ0gsT0FQRDtBQVFILEtBWkQ7QUFhSDtBQXRDd0IsQ0FBN0I7QUEyQ0FTLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNoQmhDLEVBQUFBO0FBRGdCLENBQWpCIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVXNlclxcRGVza3RvcFxcbmF0YUxhYl8yXFxzcmNcXGFwaVxcYWNjb3VudGluZyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvZGIgPSByZXF1aXJlKFwibW9uZ29kYlwiKTtcclxuY29uc3QgTW9uZ29DbGllbnQgPSBtb25nb2RiLk1vbmdvQ2xpZW50O1xyXG5jb25zdCB1cmwgPSBcIm1vbmdvZGI6Ly8xMjcuMC4wLjE6MjcwMTdcIjtcclxuY29uc3QgZGJOYW1lID0gXCJhY2NvdW50aW5nX2RiXCI7XHJcblxyXG5jb25zdCBhY2NvdW50aW5nQ29udHJvbGxlciA9IHtcclxuICAgIGdldDogZnVuY3Rpb24ocmVxLCByZXMpIHtcclxuICAgICAgICBsZXQgWCA9IHJlcS5xdWVyeS5YO1xyXG4gICAgICAgIGxldCBZID0gcmVxLnF1ZXJ5Llk7XHJcbiAgICAgICAgY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVybCk7XHJcbiAgICAgICAgY2xpZW50LmNvbm5lY3QoZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCkge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHJlcy5zZW5kKGVycm9yKVxyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHJlc3VsdC5kYihkYk5hbWUpLmNvbGxlY3Rpb24oXCJhY2NvdW50aW5nXCIpO1xyXG4gICAgICAgICAgICBpZiAoWCAmJiBZKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LmZpbmQoe1wicG9zaXRpb25cIjogWH0pLnRvQXJyYXkoZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFyciA9IHJlc3VsdC5maWx0ZXIoKGVsZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCFZIHx8IGVsZW0uY2hpbGRyZW5Db3VudCA8PSBwYXJzZUludChZKSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSByZXMuc2VuZChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHJlcy5zZW5kKGFycik7XHJcbiAgICAgICAgICAgICAgICBjbGllbnQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgIFxyXG5cclxuICAgIH0sXHJcbiAgICBwb3N0OiAocmVxLCByZXMpID0+IHtcclxuICAgICAgICBsZXQgbmV3SXRlbSA9IHJlcS5ib2R5O1xyXG4gICAgICAgIGNvbnN0IG1vbmdvQ2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVybCk7XHJcbiAgICAgICAgbW9uZ29DbGllbnQuY29ubmVjdChmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKGVycikgcmVzLnN0YXR1cyg1MDApLnNlbmQoZXJyKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnRpbmcgPSByZXN1bHQuZGIoZGJOYW1lKS5jb2xsZWN0aW9uKFwiYWNjb3VudGluZ1wiKTtcclxuICAgICAgICAgICAgYWNjb3VudGluZy5pbnNlcnRPbmUobmV3SXRlbSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSBcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChlcnIpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zZW5kKG5ld0l0ZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIG1vbmdvQ2xpZW50LmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgIFxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRhY2NvdW50aW5nQ29udHJvbGxlclxyXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "controller.js"
      ],
      "names": [
        "mongodb",
        "require",
        "MongoClient",
        "url",
        "dbName",
        "accountingController",
        "get",
        "req",
        "res",
        "X",
        "query",
        "Y",
        "client",
        "connect",
        "error",
        "result",
        "send",
        "event",
        "db",
        "collection",
        "find",
        "toArray",
        "arr",
        "filter",
        "elem",
        "childrenCount",
        "parseInt",
        "close",
        "post",
        "newItem",
        "body",
        "mongoClient",
        "err",
        "status",
        "accounting",
        "insertOne",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,WAAW,GAAGF,OAAO,CAACE,WAA5B;AACA,MAAMC,GAAG,GAAG,2BAAZ;AACA,MAAMC,MAAM,GAAG,eAAf;AAEA,MAAMC,oBAAoB,GAAG;AACzBC,EAAAA,GAAG,EAAE,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACpB,QAAIC,CAAC,GAAGF,GAAG,CAACG,KAAJ,CAAUD,CAAlB;AACA,QAAIE,CAAC,GAAGJ,GAAG,CAACG,KAAJ,CAAUC,CAAlB;AACA,UAAMC,MAAM,GAAG,IAAIV,WAAJ,CAAgBC,GAAhB,CAAf;AACAS,IAAAA,MAAM,CAACC,OAAP,CAAe,UAASC,KAAT,EAAgBC,MAAhB,EAAwB;AACnC,UAAID,KAAJ,EAAWN,GAAG,CAACQ,IAAJ,CAASF,KAAT;AACX,YAAMG,KAAK,GAAGF,MAAM,CAACG,EAAP,CAAUd,MAAV,EAAkBe,UAAlB,CAA6B,YAA7B,CAAd;;AACA,UAAIV,CAAC,IAAIE,CAAT,EAAY;AACZM,QAAAA,KAAK,CAACG,IAAN,CAAW;AAAC,sBAAYX;AAAb,SAAX,EAA4BY,OAA5B,CAAoC,UAASP,KAAT,EAAgBC,MAAhB,EAAwB;AACxD,cAAIO,GAAG,GAAGP,MAAM,CAACQ,MAAP,CAAeC,IAAD,IAAU;AAC9B,mBAAQ,CAACb,CAAD,IAAMa,IAAI,CAACC,aAAL,IAAsBC,QAAQ,CAACf,CAAD,CAA5C;AACH,WAFS,CAAV;AAGA,cAAIG,KAAJ,EAAWN,GAAG,CAACQ,IAAJ,CAASF,KAAT,EAAX,KACKN,GAAG,CAACQ,IAAJ,CAASM,GAAT;AACLV,UAAAA,MAAM,CAACe,KAAP;AACK,SAPT;AAQK;AACC,KAbV;AAgBH,GArBwB;AAsBzBC,EAAAA,IAAI,EAAE,CAACrB,GAAD,EAAMC,GAAN,KAAc;AAChB,QAAIqB,OAAO,GAAGtB,GAAG,CAACuB,IAAlB;AACA,UAAMC,WAAW,GAAG,IAAI7B,WAAJ,CAAgBC,GAAhB,CAApB;AACA4B,IAAAA,WAAW,CAAClB,OAAZ,CAAoB,UAAUmB,GAAV,EAAejB,MAAf,EAAuB;AACvC,UAAIiB,GAAJ,EAASxB,GAAG,CAACyB,MAAJ,CAAW,GAAX,EAAgBjB,IAAhB,CAAqBgB,GAArB;AAET,YAAME,UAAU,GAAGnB,MAAM,CAACG,EAAP,CAAUd,MAAV,EAAkBe,UAAlB,CAA6B,YAA7B,CAAnB;AACAe,MAAAA,UAAU,CAACC,SAAX,CAAqBN,OAArB,EAA8B,UAAUG,GAAV,EAAejB,MAAf,EAAuB;AACjD,YAAIiB,GAAJ,EACIxB,GAAG,CAACyB,MAAJ,CAAW,GAAX,EAAgBjB,IAAhB,CAAqBgB,GAArB,EADJ,KAGIxB,GAAG,CAACQ,IAAJ,CAASa,OAAT;AAEJE,QAAAA,WAAW,CAACJ,KAAZ;AACH,OAPD;AAQH,KAZD;AAaH;AAtCwB,CAA7B;AA2CAS,MAAM,CAACC,OAAP,GAAiB;AAChBhC,EAAAA;AADgB,CAAjB",
      "sourceRoot": "C:\\Users\\User\\Desktop\\nataLab_2\\src\\api\\accounting",
      "sourcesContent": [
        "const mongodb = require(\"mongodb\");\r\nconst MongoClient = mongodb.MongoClient;\r\nconst url = \"mongodb://127.0.0.1:27017\";\r\nconst dbName = \"accounting_db\";\r\n\r\nconst accountingController = {\r\n    get: function(req, res) {\r\n        let X = req.query.X;\r\n        let Y = req.query.Y;\r\n        const client = new MongoClient(url);\r\n        client.connect(function(error, result) {\r\n            if (error) res.send(error)\r\n            const event = result.db(dbName).collection(\"accounting\");\r\n            if (X && Y) {\r\n            event.find({\"position\": X}).toArray(function(error, result) {\r\n                let arr = result.filter((elem) => {\r\n                    return (!Y || elem.childrenCount <= parseInt(Y));\r\n                })\r\n                if (error) res.send(error);\r\n                else res.send(arr);\r\n                client.close();\r\n                    });  \r\n                }\r\n                 });\r\n                 \r\n\r\n    },\r\n    post: (req, res) => {\r\n        let newItem = req.body;\r\n        const mongoClient = new MongoClient(url);\r\n        mongoClient.connect(function (err, result) {\r\n            if (err) res.status(500).send(err);\r\n\r\n            const accounting = result.db(dbName).collection(\"accounting\");\r\n            accounting.insertOne(newItem, function (err, result) {\r\n                if (err) \r\n                    res.status(500).send(err);\r\n                else\r\n                    res.send(newItem);\r\n\r\n                mongoClient.close();\r\n            });\r\n        });\r\n    },\r\n\r\n   \r\n}\r\n\r\nmodule.exports = {\r\n\taccountingController\r\n}"
      ]
    },
    "sourceType": "module",
    "mtime": 1572888103186
  }
}